install.packages("fivethirtyeight")
knitr::opts_chunk$set(warning = FALSE, echo = TRUE)
set.seed(63130)
x <- matrix(rnorm(n = 500*20, mean = 0, sd = 1),
nrow = 500,
ncol = 20)
# x_star <- matrix(0, ncol = 20)
# Gonna take advantage of the fact that x_star is just zeros
# This function takes in our matrix and the number of columns (covariates) we want
# It calculates the euclidean distance between each observation and x_star
# and returns the minimum, mean, and max distances associated with j covariates
dm <- function(x, ncols){
dist <- NULL
closest <- NULL
mean_distance <- NULL
farthest <- NULL
for (j in 1:ncols) {
for (i in 1:nrow(x)) {
dist[i] <- sqrt(sum(t(x[i,c(1:j)])%*%x[i,c(1:j)]))
}
closest[j] <- min(dist)
mean_distance[j] <- mean(dist)
farthest[j] <- max(dist)
}
return(cbind(closest, mean_distance, farthest))
}
dat <- as.data.frame(cbind("covariates" = c(1:20), dm(x, ncols = 20)))
dat
# plotting
library(ggplot2)
ggplot(data = dat) +
geom_point(aes(x = covariates, y = closest), col = "green", label = "Closest") +
geom_point(aes(x = covariates, y = mean_distance), col = "blue") +
geom_point(aes(x = covariates, y = farthest), col = "red") +
ggtitle(label = "Euclidean Distances Scaled by Dimensionality",
subtitle = "Closest = Green; Mean = Blue; Farthest = Red") +
xlab("Number of Covariates") +
ylab("Euclidean Distance") +
theme_minimal()
ncols <- 4
dist <- NULL
closest <- NULL
mean_distance <- NULL
farthest <- NULL
dist[i] <- sqrt(sum(t(x[i,c(1:j)])%*%x[i,c(1:j)]))
i <- 1
j <- 2
dist[i] <- sqrt(sum(t(x[i,c(1:j)])%*%x[i,c(1:j)]))
set.seed(63130)
x <- matrix(rnorm(n = 500*20, mean = 0, sd = 1),
nrow = 500,
ncol = 20)
# x_star <- matrix(0, ncol = 20)
# Gonna take advantage of the fact that x_star is just zeros
# This function takes in our matrix and the number of columns (covariates) we want
# It calculates the euclidean distance between each observation and x_star
# and returns the minimum, mean, and max distances associated with j covariates
dm <- function(x, ncols){
dist <- NULL
closest <- NULL
mean_distance <- NULL
farthest <- NULL
for (j in 1:ncols) {
for (i in 1:nrow(x)) {
dist[i] <- sqrt(sum(t(x[i,c(1:j)]) %*% x[i,c(1:j)]))
}
closest[j] <- min(dist)
mean_distance[j] <- mean(dist)
farthest[j] <- max(dist)
}
return(cbind(closest, mean_distance, farthest))
}
dat <- as.data.frame(cbind("covariates" = c(1:20), dm(x, ncols = 20)))
dat
# plotting
library(ggplot2)
ggplot(data = dat) +
geom_point(aes(x = covariates, y = closest), col = "green", label = "Closest") +
geom_point(aes(x = covariates, y = mean_distance), col = "blue") +
geom_point(aes(x = covariates, y = farthest), col = "red") +
ggtitle(label = "Euclidean Distances Scaled by Dimensionality",
subtitle = "Closest = Green; Mean = Blue; Farthest = Red") +
xlab("Number of Covariates") +
ylab("Euclidean Distance") +
theme_minimal()
